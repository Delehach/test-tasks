(this.webpackJsonpfpsmax=this.webpackJsonpfpsmax||[]).push([[0],{32:function(e,t,n){},33:function(e,t,n){"use strict";n.r(t);var c=n(1),a=n(0),r=n.n(a),s=n(5),o=n(3),l=n(4),i=n(6),u=n(17),j=n(2),b="NOTES/FETCH_NOTES",d="NOTES/SELECT_NOTE",O="NOTES/CREATE_NOTE",f="NOTES/EDIT_NOTE",p="NOTES/MOVE_NOTE_TO_TRASH",N="NOTES/DELETE_NOTE",h="NOTES/SET_SEARCH_VAL",v={allNotes:[],noteTemplate:{id:null,title:"New note",text:"",status:"active"},searchVal:"",selectedNoteID:1},x=Object(l.c)({notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:v,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:return Object(j.a)(Object(j.a)({},e),{},{allNotes:t.payload.map((function(e){return{id:e.id,title:e.title,text:e.body,status:"active"}}))});case d:return Object(j.a)(Object(j.a)({},e),{},{selectedNoteID:parseInt(t.payload)});case O:var n=Object(j.a)(Object(j.a)({},e.noteTemplate),{},{id:Date.now()});return Object(j.a)(Object(j.a)({},e),{},{allNotes:[n].concat(Object(u.a)(e.allNotes)),selectedNoteID:n.id});case f:return Object(j.a)(Object(j.a)({},e),{},{allNotes:e.allNotes.map((function(n){return n.id===e.selectedNoteID?Object(j.a)(Object(j.a)({},n),{},Object(i.a)({},t.payload.key,t.payload.value)):n}))});case p:return Object(j.a)(Object(j.a)({},e),{},{allNotes:e.allNotes.map((function(e){return e.id===t.payload?Object(j.a)(Object(j.a)({},e),{},{status:"deleted"}):e}))});case N:return Object(j.a)(Object(j.a)({},e),{},{allNotes:e.allNotes.filter((function(e){return e.id!==t.payload}))});case h:return Object(j.a)(Object(j.a)({},e),{},{searchVal:t.payload});default:return e}}}),m=n(15),E=Object(l.e)(x,Object(l.d)(Object(l.a)(m.a))),T=n(10),y=n.n(T),g=n(16),S=function(e,t){return{type:e,payload:t}},w=function(e,t){return S(f,{key:e,value:t})};function C(){var e=Object(o.b)();return Object(c.jsxs)("div",{className:"sidebar-header",children:[Object(c.jsx)("div",{className:"dots"}),Object(c.jsx)("button",{type:"button",className:"create-note-btn",onClick:function(){return e(S(O))}})]})}function _(e){var t=e.status,n=void 0===t?"active":t,a=Object(o.b)(),r=Object(o.c)((function(e){return e.notes.allNotes})),s=Object(o.c)((function(e){return e.notes.searchVal})),l=Object(o.c)((function(e){return e.notes.selectedNoteID})),i=r.filter((function(e){return s?e.status===n&&e.title.toLowerCase().includes(s.toLowerCase()):e.status===n})),u=function(e,t){var n=t.status,c=t.id;e.stopPropagation(),a("active"!==n?function(e){return S(N,e)}(c):function(e){return S(p,e)}(c))};return Object(c.jsx)("ul",{className:"notes-list",children:i.map((function(e){var t=e.id===l?"is-active":"";return Object(c.jsxs)("li",{className:t,title:e.title,onClick:function(){return a((t=e.id,S(d,t)));var t},children:[Object(c.jsx)("span",{children:e.title}),Object(c.jsx)("button",{type:"button",onClick:function(t){return u(t,e)}})]},e.id)}))})}function k(){var e=Object(o.c)((function(e){return e.notes.allNotes.filter((function(e){return"deleted"===e.status}))}));return e.length?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("div",{className:"deleted-counter",children:Object(c.jsxs)("span",{children:[e.length," trashed ",1===e.length?"note":"notes"]})}),Object(c.jsx)(_,{status:"deleted"})]}):null}function D(){var e=Object(o.b)();return Object(c.jsx)("input",{className:"search-input",type:"text",placeholder:"Search everywhere",onChange:function(t){return e((n=t.target.value,S(h,n)));var n}})}function I(){var e=Object(o.b)();return Object(a.useEffect)((function(){e(function(){var e=Object(g.a)(y.a.mark((function e(t){var n,c;return y.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://jsonplaceholder.typicode.com/posts?_limit=10");case 3:return n=e.sent,e.next=6,n.json();case 6:c=e.sent,t(S(b,c)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.error("Fetch notes failed with error: ".concat(e.t0.message));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}())}),[]),Object(c.jsxs)("div",{className:"sidebar",children:[Object(c.jsx)(C,{}),Object(c.jsxs)("div",{className:"sidebar-notes-wrap",children:[Object(c.jsx)(_,{}),Object(c.jsx)(k,{})]}),Object(c.jsx)(D,{})]})}var A=n(11),L=n.n(A);function V(){var e=Object(o.b)(),t=Object(o.c)((function(e){return e.notes.selectedNoteID})),n=Object(o.c)((function(e){return e.notes.allNotes.find((function(e){return e.id===t}))}));return n?Object(c.jsxs)("div",{className:"notes-editor",children:[Object(c.jsx)(L.a,{html:n.title,tagName:"h3",onChange:function(t){var n=t.target.value.replaceAll(/(<([^>]+)>)/gi,"");e(w("title",n))},className:"notes-editor-title"}),Object(c.jsx)(L.a,{html:n.text,onChange:function(t){return e(w("text",t.target.value))},className:"notes-editor-text"})]}):null}function F(){return Object(c.jsx)("div",{className:"container",children:Object(c.jsxs)("div",{className:"notes-wrapper",children:[Object(c.jsx)(I,{}),Object(c.jsx)(V,{})]})})}n(32);Object(s.render)(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(o.a,{store:E,children:Object(c.jsx)(F,{})})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.f8ee806c.chunk.js.map