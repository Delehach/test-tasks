(function(t){function e(e){for(var n,o,c=e[0],i=e[1],l=e[2],d=0,h=[];d<c.length;d++)o=c[d],Object.prototype.hasOwnProperty.call(r,o)&&r[o]&&h.push(r[o][0]),r[o]=0;for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n]);u&&u(e);while(h.length)h.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var t,e=0;e<s.length;e++){for(var a=s[e],n=!0,c=1;c<a.length;c++){var i=a[c];0!==r[i]&&(n=!1)}n&&(s.splice(e--,1),t=o(o.s=a[0]))}return t}var n={},r={app:0},s=[];function o(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=n,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)o.d(a,n,function(e){return t[e]}.bind(null,n));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/";var c=window["webpackJsonp"]=window["webpackJsonp"]||[],i=c.push.bind(c);c.push=e,c=c.slice();for(var l=0;l<c.length;l++)e(c[l]);var u=i;s.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"14a6":function(t,e,a){},"3dc8":function(t,e,a){"use strict";a("14a6")},"50c9":function(t,e,a){"use strict";a("bfe7")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("Calendar")],1)},s=[],o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("CalendarHeader",{attrs:{daysEvents:t.daysEvents},on:{setEventToDay:t.setEventToDay,setSearchEventsDate:t.setSearchEventsDate}}),a("CalendarDays",{attrs:{data:{year:t.year,getMonthName:t.getMonthName,days:t.days}},on:{prevMonth:t.prevMonth,nextMonth:t.nextMonth,todayMonth:t.todayMonth,selectDay:t.selectDay}})],1)},c=[],i=(a("99af"),a("cb29"),a("4de4"),a("d81d"),a("5530")),l=a("2909"),u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"header-wrap"},[a("div",{staticClass:"header grid"},[a("div",{staticClass:"header__controls"},[a("button",{staticClass:"header__controls-btn",attrs:{type:"button"},on:{click:t.showModalHandler}},[t._v("Добавить")]),a("button",{staticClass:"header__controls-btn",attrs:{type:"button"}},[t._v("Обновить")]),a("form",{directives:[{name:"show",rawName:"v-show",value:t.showModal,expression:"showModal"}],staticClass:"header__modal",on:{submit:function(e){return e.preventDefault(),t.submitHandler(e)}}},[a("div",{staticClass:"header__modal-content"},[a("button",{staticClass:"header__modal-hide-btn",attrs:{type:"button"},on:{click:function(e){t.showModal=!1}}},[t._v("X")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.eventText,expression:"eventText"}],ref:"event_input",staticClass:"header__modal-input",attrs:{type:"text",placeholder:"5 марта, 14:00, День рождения",required:""},domProps:{value:t.eventText},on:{input:function(e){e.target.composing||(t.eventText=e.target.value)}}}),a("button",{staticClass:"header__controls-btn header__modal-submit-btn",attrs:{type:"submit"}},[t._v("Создать")])])])]),a("label",{staticClass:"header__search"},[a("i",{staticClass:"header__search-icon"}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchVal,expression:"searchVal"}],staticClass:"header__search-input",attrs:{type:"text",placeholder:"Событие, дата, учасник"},domProps:{value:t.searchVal},on:{input:function(e){e.target.composing||(t.searchVal=e.target.value)}}})]),a("div",{directives:[{name:"show",rawName:"v-show",value:t.showSearchResult,expression:"showSearchResult"}],staticClass:"header__modal header__search-modal"},[a("div",{staticClass:"header__modal-content"},[t.searchResult.length?a("ul",{staticClass:"header__search-items"},t._l(t.searchResult,(function(e){return a("li",{key:e.text,staticClass:"header__search-item",on:{click:function(a){return t.setSearchEventsDateHandler(e.date)}}},[a("p",{staticClass:"header__search-item-text"},[t._v(t._s(e.text))]),a("span",{staticClass:"header__search-item-date"},[t._v(t._s(t._f("date")(e.date)))])])})),0):a("p",{staticClass:"header__search-fallback"},[t._v("По запросу ничего не найдено")])])])])])},d=[],h=(a("caad"),a("2532"),a("498a"),{name:"CalendarHeader",props:{daysEvents:{type:Array,required:!0}},data:function(){return{eventText:"",searchVal:"",showModal:!1}},computed:{searchResult:function(){var t=this;return this.searchVal.trim()?this.daysEvents.filter((function(e){return e.text.toLowerCase().includes(t.searchVal.toLowerCase())})):[]},showSearchResult:function(){return this.searchVal.trim()}},methods:{showModalHandler:function(){var t=this;this.showModal=!0,this.searchVal="",this.$nextTick((function(){t.$refs.event_input.focus()}))},submitHandler:function(){this.$emit("setEventToDay",this.eventText),this.showModal=!1,this.eventText=""},setSearchEventsDateHandler:function(t){this.$emit("setSearchEventsDate",t),this.searchVal="",this.showModal=!1}},filters:{date:function(t){var e={day:"2-digit",weekday:"long",month:"long",year:"numeric"};return new Intl.DateTimeFormat("ru",e).format(new Date(t))}}}),v=h,f=(a("3dc8"),a("2877")),y=Object(f["a"])(v,u,d,!1,null,"056d4a1f",null),_=y.exports,m=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"calendar"},[a("div",{staticClass:"calendar__month grid"},[a("button",{staticClass:"calendar__month-btn",attrs:{type:"button"},on:{click:function(e){return t.eventHandler("prevMonth")}}},[t._v("<")]),a("p",{staticClass:"calendar__current-month"},[t._v(t._s(t.data.getMonthName)+" "+t._s(t.data.year))]),a("button",{staticClass:"calendar__month-btn",attrs:{type:"button"},on:{click:function(e){return t.eventHandler("nextMonth")}}},[t._v(">")]),a("button",{staticClass:"calendar__today-btn",attrs:{type:"button"},on:{click:function(e){return t.eventHandler("todayMonth")}}},[t._v("Сегодня")])]),a("div",{staticClass:"calendar__days grid"},t._l(t.data.days,(function(e,n){return a("div",{key:e.id,class:["calendar__day",{"is-current":e.current,"is-selected":e.selected,"has-event":e.events.length}],on:{click:function(a){return t.eventHandler("selectDay",e.fullDate)}}},[n<=6?a("span",{staticClass:"calendar__weekday"},[a("b",{staticClass:"calendar__long-weekday"},[t._v(t._s(e.weekday.long)+",")]),a("strong",{staticClass:"calendar__short-weekday"},[t._v(t._s(e.weekday.short)+",")])]):t._e(),a("span",{staticClass:"calendar__day-number"},[t._v(t._s(e.dayNumber))]),t._l(e.events,(function(e,n){return a("div",{key:e.text,staticClass:"calendar__day-event"},[a("b",{staticClass:"calendar__day-event-number"},[t._v(t._s(n)+".")]),t._v(" "+t._s(e.text)+" ")])}))],2)})),0)])},p=[],b={name:"CalendarDays",props:{data:{type:Object,required:!0}},methods:{eventHandler:function(t){for(var e=arguments.length,a=new Array(e>1?e-1:0),n=1;n<e;n++)a[n-1]=arguments[n];this.$emit.apply(this,[t].concat(a))}}},D=b,g=(a("50c9"),Object(f["a"])(D,m,p,!1,null,"57a5105c",null)),w=g.exports,C={name:"Calendar",components:{CalendarHeader:_,CalendarDays:w},data:function(){return{currentDate:new Date,selectedDay:null,daysEvents:[]}},computed:{getMonthName:function(){return new Intl.DateTimeFormat("ru-RU",{month:"long"}).format(new Date(this.currentDate))},year:function(){return this.currentDate.getFullYear()},month:function(){return this.currentDate.getMonth()},getDays:function(){var t=this.getMonthLength(this.year,this.month+1,0),e=this.getMonthLength(this.year,this.month,0),a=new Date(this.year,this.month,1).getDay(),n=new Date(this.year,this.month+1,0).getDay(),r=a-1<0?6:a-1,s=0===n?0:7-n,o=this.generateDays({daysCount:r,month:this.month-1,prevMonthLength:e}),c=this.generateDays({daysCount:t,month:this.month}),i=this.generateDays({daysCount:s,month:this.month+1});return[].concat(Object(l["a"])(o),Object(l["a"])(c),Object(l["a"])(i))},days:function(){var t=this;return this.getDays.map((function(e){return e.fullDate===t.selectedDay?Object(i["a"])(Object(i["a"])({},e),{},{selected:!0}):e}))}},methods:{formatWeekday:function(t,e){return new Intl.DateTimeFormat("ru-RU",{weekday:e}).format(t)},getMonthLength:function(t,e,a){return new Date(t,e,a).getDate()},generateDays:function(t){var e=this,a=t.daysCount,n=t.month,r=t.prevMonthLength,s=new Date;return new Array(a).fill({}).map((function(t,o){var c=r?r-a+o+1:o+1,l=new Date(e.year,n,c);return Object(i["a"])(Object(i["a"])({},t),{},{id:+"".concat(n).concat(a).concat(c),fullDate:l,dayNumber:c,weekday:{long:e.formatWeekday(new Date(e.year,n,c),"long"),short:e.formatWeekday(new Date(e.year,n,c),"short")},events:e.daysEvents.filter((function(t){return t.date.toLocaleDateString()===l.toLocaleDateString()})),current:o+1===s.getDate()&&e.month===s.getMonth(),selected:!1})}))},prevMonth:function(){this.currentDate=new Date(this.currentDate.setMonth(this.currentDate.getMonth()-1))},nextMonth:function(){this.currentDate=new Date(this.currentDate.setMonth(this.currentDate.getMonth()+1))},todayMonth:function(){this.currentDate=new Date},setSearchEventsDate:function(t){this.currentDate=new Date(t)},selectDay:function(t){this.selectedDay=t},setEventToDay:function(t){this.daysEvents.push({date:this.selectedDay,text:t}),localStorage.setItem("calendarDaysEvent",JSON.stringify(this.daysEvents)),this.selectedDay=""}},created:function(){localStorage.getItem("calendarDaysEvent")&&(this.daysEvents=JSON.parse(localStorage.getItem("calendarDaysEvent")).map((function(t){return Object(i["a"])(Object(i["a"])({},t),{},{date:new Date(t.date)})})))},mounted:function(){alert('\n    Для перехода между месяцами используйте стрелки вправо/влево. Кнопка "сегодня" возвращает на текущий месяц.\n\n    Для быстрого добавление события кликните на нужный день, затем нажмите кнопку добавить.\n\n    Для поиска введите название события. Чтоб отобразить искомое событие, кликните по нему - выведется нужный месяц.\n    ')}},M=C,x=Object(f["a"])(M,o,c,!1,null,null,null),O=x.exports,k={name:"App",components:{Calendar:O}},E=k,j=(a("5c0b"),Object(f["a"])(E,r,s,!1,null,null,null)),S=j.exports;n["a"].config.productionTip=!1,new n["a"]({render:function(t){return t(S)}}).$mount("#app")},"5c0b":function(t,e,a){"use strict";a("9c0c")},"9c0c":function(t,e,a){},bfe7:function(t,e,a){}});
//# sourceMappingURL=app.a3d401da.js.map